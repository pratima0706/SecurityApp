<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home | Digital Security</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body data-theme="light">
  <div class="home-container">
    <div class="dashboard-card">

      <!-- Header with Profile and Theme Toggle -->
      <div class="dashboard-header">
        <div class="welcome-section">
          <h1>Welcome, {{ current_user.username }} ðŸ‘‹</h1>
          <p>You are securely logged in. Explore your dashboard below.</p>
        </div>
        <div class="user-controls">
          <!-- Profile Link and Image -->
          <a href="{{ url_for('profile') }}" class="profile-link">
            <img src="{{ url_for('static', filename='images/default_profile.png') }}" alt="Profile Image" class="profile-img">
            <span>Profile</span>
          </a>

          <!-- ðŸŒ— Theme Toggle -->
          <div class="theme-toggle">
            <span id="theme-label">ðŸŒž Light Mode</span>
            <label class="switch">
              <input type="checkbox" id="themeToggle">
              <span class="slider round"></span>
            </label>
          </div>
        </div>
      </div>

      <hr class="divider">

      <!-- Dashboard Content Area (placeholder) -->
      <div class="dashboard-content">
        <h3>Security Overview</h3>
        <p>This is where you can add various security metrics, recent activity logs, etc.</p>
        <!-- Example: Link to security logs (if you have one) -->
        <!-- <a href="{{ url_for('security_logs') }}" class="btn dashboard-btn">View Security Logs</a> -->
      </div>

      <hr class="divider">

      <!-- Dashboard Links -->
      <div class="dashboard-links">
        <a href="{{ url_for('profile') }}" class="btn dashboard-btn">Manage Profile</a>
        <!-- Add more dashboard links here -->
        <a href="{{ url_for('logout') }}" class="btn dashboard-btn">Logout</a>
      </div>
    </div>
  </div>

  <script>
    const toggle = document.getElementById('themeToggle');
    const label = document.getElementById('theme-label');

    function applyTheme(mode) {
      document.body.setAttribute('data-theme', mode);
      localStorage.setItem('theme', mode);
      label.textContent = mode === 'dark' ? "ðŸŒš Dark Mode" : "ðŸŒž Light Mode";
      toggle.checked = mode === 'dark';
    }

    toggle.addEventListener('change', () => {
      const mode = toggle.checked ? 'dark' : 'light';
      applyTheme(mode);
    });

    const saved = localStorage.getItem('theme') || 'light';
    applyTheme(saved);
  </script>
</body>
</html>